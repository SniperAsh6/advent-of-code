example_input = ["..##.........##.........##.........##.........##.........##.......", "#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..", ".#....#..#..#....#..#..#....#..#..#....#..#..#....#..#..#....#..#.", "..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#", ".#...##..#..#...##..#..#...##..#..#...##..#..#...##..#..#...##..#.", "..#.##.......#.##.......#.##.......#.##.......#.##.......#.##.....", ".#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#", ".#........#.#........#.#........#.#........#.#........#.#........#", "#.##...#...#.##...#...#.##...#...#.##...#...#.##...#...#.##...#...", "#...##....##...##....##...##....##...##....##...##....##...##....#", ".#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#"]

puzzle_input = [".##.............##......#.....#", ".#.#................#..........", "...#..#.##..#.#......#.#.#.#..#", "..#......#........#..#..#.#.#..", ".......#....#..#..#.......#....", "..#..#..##.#...#........#.###..", "..#...#..#.....#.##....#.......", "....#..###.#......#.##..#...##.", "..#..........#.##.#...#........", "#...#............##....#..##...", ".......##....#.....##..#.#..#.#", "..#..#..#...#....#....#....#...", ".#...#.##........#####........#", "..#..#......#.....##...#.......", "....#......##....#.#....#.#..##", "#.#.##....##..#.........#.###..", "##..###..#..#.......###.......#", "...#.#......#.........#....#...", ".....#..........#.....##..#.#..", "....##......#.#..#....#.#......", "..#.....#..##.......##......#..", ".........##.##.#..##...........", "....#...#.....#....#.#.###....#", ".##.#..#...##..#.......#......#", "##..#..#..####..#.#..#...#.....", "..###..#..#..#.###..#....#.##..", "......#...###.#.#.....#........", ".....#...#.#...#.......#.....#.", "#........#..##...........#..#..", ".#.##.##...#.....#.#....#..#...", "..##.##....#.....#....#....##..", "#.........##...##..#.....#..#..", "........#.####....#...##.....#.", ".#.#...#..#..#.#......##.....#.", "..#..........##..#.#.#....#...#", "#.......#...#...#.....#.##.#...", "..#.....#..#.....####.#..#.#.##", "...#.#..#...#.....#...#.#.#.#.#", ".#..##....##.....#..#....###...", "....#......##.#.#.....#......#.", "..#.#...#......#.....##.......#", "..#...###...#..#.#...#..#.....#", "#..............#.....#....##..#", ".#...#.......#.............#...", "..###....#.##........#.#.......", "#.##.......#..#............###.", "#...#..##.#.#............######", "..##..#....#.#.###...#..##.##..", ".#...#.###.#....#...#....#...#.", "#...#.......#...........#...##.", "##.#......#####.............#..", "....#..#......##..#..........#.", "#.....#.....#.#.......#...#...#", "....#...#.#..##........#.#..##.", "..##.....##............#.#.###.", "#.........#........#..###......", "............#..................", ".#.###...####...#.#..#......#..", "...##.###.#....##.#..####..#.##", "..#####.#.##...#.#...##.##....#", "........##...#...#....##.....##", "#...........###...#.#...##.#...", "##......#...#.......###........", "..#..#.##.#..###....#..#.###.#.", "...#.#.#...#....#.##..#...#....", "........#.##...##.#.....##...##", ".#..........##..#..#..#.#...#..", "#.#...#.##.#....#.##..#........", ".#.#.#....##..##.####.....###..", "..#....##....#..#..#..##.......", "..##...#.......#...##.#....#...", "...####.#.#...........#.#...#..", "....####.....#.#.....#....##.##", "..#.....#.#.............##....#", "#.#....#####.##..####.#...#.#..", "#.#....#.##.#.#.##..#.#...#....", "......#.......#.......#.....#..", "..#.....#....###.###..#..#..#..", "#..#....##.###...##.....#......", "..#..#...#..#.##..........#....", "...#.#.#......#....#.##..#..##.", "....##.#....#..#...##....###...", "##.#.###.....#..#.#.#..#.....##", "##..#.#........#...#..#.#......", "....#.#.......##.#...........#.", ".......##...#...#...#.....#....", ".....#....#..#..###.#...#......", "............#.#..#......#.#....", "...##..#.##....##..##.#......#.", "#.#.#......#.#.....#.#.#..#.#.#", "...###..........#..#..#.##.....", "......#......#......###..##....", "#...##...#....#....#..#...#.#..", ".......#..#......##.......#....", "...#..#..#.....#.....#......##.", "..#....###..........##..#...#..", "..........#..#.#...#......#..#.", "#...#....#.##.........#.#.#...#", ".#.#.#...#.#...#.#..#..#....#.#", "#.##....#..#.........#.##.##..#", "..#.#..##.#....#.###.#...#....#", ".#.......#...#.#.........#....#", ".......#...#..........#.#..#...", "...#.....##..#....#...###...#.#", "#....##.##..........#.......#..", ".##..##......#...#....#.##....#", "....#.....##...##.#..#.........", "...#.#..##.#.#..#.......#....#.", ".#...#.#.#.#..#..#.##.......#..", "..#..##...#.#..#.......#.#####.", ".......#.#...........#....#.#..", ".#.###..........#...#..#...#...", "..#.#............##......##....", "...##..#...###...##....#.#.##..", "....#.##...#..#.#.#...........#", "....#..#....##.....#.##.#.....#", "..##......##.#.........#....#.#", "###...#...#..#.#...#...........", ".####.....#.....#.#....#..#....", ".#....#..#..#..#...##.....###.#", "#....##.#....#.##..#......##..#", ".........#..#.#.....#.#....##.#", ".....#.#...#....#.#...#....#..#", ".#...#.#.....#.#......#.#......", "#....##.......#.............#..", "#..#...#........##..#..#......#", "####..##.#..##..#.........####.", ".#.##..#.#..#.#.#.##...#..#.#.#", ".##.#..#............#......#...", "###....#.##....#..#...#........", ".....#..###..........#..#......", ".##..##.....#..##....#...#.....", "#...##...........#..#...###..#.", "#..##....#...#.##.##....#......", "...#...#..#.#.......##.......##", "....#.....#..#...#.........#.#.", ".#...##.#......#.#..#..#...##..", "...##...##.##...##...#..#......", "#..##.#..#..#............#...#.", "..#.....#.........#........#.#.", "#.#...#...#......#.#......#....", ".##.....##.#.#....#.##...##.#..", ".##..##.#.#....#.##............", ".#.##.....##.#...#...###....#..", ".#..............#.#....###.###.", "....#..#...#.#.#..........#.#.#", ".#.#..#.#.#...###..#...##......", ".#.#.....###......#..........#.", "........#.##...............#.#.", "...#.#.#......#..#..##........#", "..#.##......#.......#..#......#", "...#...#...#...#..#..#........#", "..#....#.....#....#..##........", ".....#..#...##....#......##....", "...##..##..#..........##....#.#", "..#....#..#...#.##..#.....##...", "###...#.#....#........#.......#", "......#...#..#....###.........#", "..###.#...#...#...#.#..###.#...", ".##.#.......#.#..#..#......#.#.", "...##...........#.#..#.#..#....", ".......#.....####.#.....#...#.#", "......##......##.#.#.#...#.#..#", "..###.#####..#....#.#...#..##..", ".....#..#......#........#......", "#..##....#.#.##....#....#......", ".#....#.##.####.##..#..#......#", "#...##...#.#...##.#.##.##...#..", "........#.#........#.#...#..#..", ".#....###..#......#.##.###..#..", ".#..#..#..#..#...#.#.........##", "....#...#..#..............#....", "........#...##.....#.......#...", "..#......#.#..#.#..#.#.#...###.", "....#...####....###....#......#", "#...#.#...................#.##.", "..#.#.###...#....##....##......", "#..##..#.........#....#....####", ".#....###...#.#...#......#...#.", "......#..#.#..#.##...#.#.#..#..", ".#...#.#.....#..##......#..#...", "##.#..##.....##.#.#.......##...", ".##.##.##..#...#.#.##.##.......", ".#.#......#.....#...#.#..#.....", "...#...........#..#.##..##..#..", ".....#...##......#........#.#..", "....#..............##.........#", "..####.#....##..##......##.#.#.", ".#.#..#...#..........#...###..#", "....#.#.##.....###.#..#.##.....", ".......##.#.#..#...#...##.#....", "...#.##.....#....#...#...#.....", "##.#.##..#..#.#.....#.#..#.....", "..#..##........#....###..#..#..", "..#.........##.....#......#...#", "...##..........##......#.#.#...", "#.....#..#..#......#......#....", ".##...#..##....#.......##..#.#.", ".#...##...##......####.##.#....", ".....#.........#.#.####......#.", "...#.....#.#.........##..#.....", "##.#.###.#..#.#..#............#", "...##..#.#....#....#..#........", "..#.###......#...#.#.....#...#.", "....##.##..#.....#...#.#.#....#", ".......#.#..#...........#.#....", ".#.#..##.#.......#.#..#.....###", "...#.#.....#.#..#.##..#...#.#..", "...#......##....#..............", "......#...#....................", "..#........#...##.##.#..#.#.#..", ".#.###.#.##..##..#....##....#..", ".....#..#.#...#.#..#..#.......#", "..........#.##.#..##..####.....", "............#.#......#.........", ".#....#..#......#.....##.......", ".....#........#.....##.#..#.#..", "#..#.##...#.#.....#...#.####...", "......#...#....#.##..##.#...#..", ".#.#.##......##....#.#....#.##.", "#.#.#....#.###....##....##.....", ".##..#...#.##......#..#..#...##", "...#....###....#...........#.#.", "#.#.##.##...##....#....##.#...#", ".#.#######.......#......#......", "#......#...#.#.#.###....#.##..#", "......##..#..##.........##.#.##", "....##...#.#....##.....#.....#.", "..#.#........##........#.#..##.", ".....#..#.##.....#.....#..#.#..", ".#..............#.......#......", ".............#..#..........#...", ".#..#.##....##.#..#...##.......", "...........#..#.......#.#....#.", ".#..#..........##...#.#.#...#..", "......#....#..###....#......#..", ".#...#...##..#..#..##..#..#.#..", "#.#.........#....#..........##.", "...##..#..##...#....##...##.##.", "..#....#.####.........#.....##.", ".....#.#...#.#...#.##.#...##..#", "#...#.....#..#.......#...#..#..", "..#.......#..##.#.....#....#...", ".#.....#..##.#.....#...#.#...#.", ".....#.##..........##....#...#.", "...#....#...#........##...#...#", "....##...#....#..........#.....", "...#....##..#..####..##.#...#.#", "#...###.###..#....##.#.........", ".#.......#......#.........#....", "..#..##..#.........##..........", "#......#.#.##...#...#####......", "......#.....####......#....#...", ".........#..#..#...#....#.#....", "....#........#...##....#.......", "...##.#...#..........#....#....", "........#.......#.##..#..#...#.", "....#..##...........#.....#..#.", "#....#...............#.#....#..", ".#........#....#.#...#.......#.", "#.......##..........#.......#..", "...#....#...##.#..#.......#....", "#..#.##...#.#...#...#...#....#.", "###...#...#....#....#....#...#.", "##......#.#.......#....#..#....", "......#......#....#.#.#..###..#", ".#.#.##.....#..#..........#....", "##...#.#.#..##....#.....#.#....", "#.##...#...#.#...####..#.......", ".....##..#.#.#....#..##..#.#...", "....###.#.........##.....#.....", "......##...........#........#.#", ".#.........##..................", ".........##...#.............#.#", "......##...#...#.........#..##.", "#..#.......#..##.......###.....", "....#.#.....#............##....", ".....#..#......#....#.....##...", "##......##...................#.", "#....#............#.#.###.##...", ".#.....#........#.....#...#....", "......##.......######......##..", ".#....##....#..###....#.......#", "..............##.#..#.......#.#", ".#..#..........#..#.##.........", "......##.#..#......#.#....##.#.", "#.....#.##...#.....#...#..#...#", ".#....#..##.....#.....#.#.#....", "..#......#.##..#.........#.#.#.", ".#..##...#...#.....#..#..#.#..#", "#.#.##.##.................#.#.#", ".#..#.#..##.#.......#.......##.", "#...#...#..##...#...##...#...#.", "....#......#..#...#.....##..#..", "..............##......#...#.#..", "..##..#.......#..#..###.#.#....", ".#..#..#...#.......#...#...##.#", ".#...#.......###..#.##.###.....", "##.#...#......#.....#..#.......", "##....##............#.....#..#.", ".....#...##......##.....#....##", "#...##..#....#..##....###.#...#", ".....#..#.#.....#.##..##....#..", ".#.....#.#........#...#.#......", "......#....#.#........#.#......", ".##..#...............###...##.#", ".......###.#.#......###.....#..", ".......#..##...#....#.##..#.##.", "..#.......##.......#.....#....#", ".#......#....#..##..#.#.#..##..", "###......#...#..#.............#", ".#....#..#.#......##...........", ".#....#.##.....#..#.......#..##", "....#...#...#..#.....#..##..#.#", "#.#.#.......##.#..#.#....#.....", "##.#.......#...#...#.#......##.", "#....#.#...........#######.....", "...#.#.##.#......##..###.......", "..#.#....#..#.................#", "........#..##..#.....#....#.##.", "...#.#..#..#..#..............##", ".##.......###.#......#....#..##", "..##.##.#......#....#..#...#..#"]

def toboggan_trajectory(map_input, position_increment, row_increment):
    position = 0
    encountered_trees = 0
    for row in map_input[::row_increment]:
        if position >= len(row):
            position -= len(row)
        if row[position] == "#":
            encountered_trees += 1
        position += position_increment
    return encountered_trees

part_one = toboggan_trajectory(puzzle_input, 3, 1)
print(part_one)

part_two_increments = [[1, 1], [3, 1], [5, 1], [7, 1], [1, 2]]
tree_product = 1
for part_two_increment in part_two_increments:
    tree_product *= toboggan_trajectory(puzzle_input, part_two_increment[0], part_two_increment[1])
print(tree_product)